(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[0],{403:function(e,t,n){"use strict";n.r(t);var r=n(10),o=n(3),a=n.n(o),i=n(9),l=n(2);var s=function(e){var t=e.comment,n=e.author,r=e.email,o=e.formIsSubmitting,a=e.formSubmittedSuccessfully,i=e.formSubmittedFailed,s=e.replyTo,f=e.formRef,b=e.setReplyTo,d=e.onSubmit,j=e.onChange,y=e.formErrors,h=e.formValid,v=Object(l.jsx)("button",{type:"button",disabled:!h,onClick:d},o?"Dodaję komentarz...":"Dodaj komentarz"),O=s?Object(l.jsx)("button",{type:"button",onClick:function(){return b(0)}},"Anuluj"):null,g=a?Object(l.jsx)("p",null,"Dzięki! Komentarz pojawi się na stronie po zatwierdzeniu."):null,x=i&&!a?"Coś poszło nie tak... przykro mi spróbuj później.":null,w=Object.keys(y).map((function(e,t){return y[e].length>0?Object(l.jsx)(m,{key:t},y[e]):""}));return Object(l.jsx)("div",null,s?Object(l.jsx)("h4",null,"Odpowiedz na komentarz"):Object(l.jsx)("h4",null,"Dodaj komentarz"),Object(l.jsx)(c,{ref:f},Object(l.jsx)("div",null,Object(l.jsx)("input",{id:"author",name:"author",type:"text",placeholder:"Autor",required:!0,disabled:o,value:n,onChange:j}),Object(l.jsx)("input",{id:"email",type:"email",name:"email",placeholder:"Email",required:!0,disabled:o,value:r,onChange:j}),Object(l.jsx)("textarea",{id:"comment",name:"comment",placeholder:"Wpisz swój komentarz",cols:"45",rows:"8",maxLength:"65525",required:!0,disabled:o,value:t,onChange:j})),Object(l.jsx)(u,null,O,v)),Object(l.jsx)(p,null,g,w,x&&Object(l.jsx)(m,null,x)))},c=Object(r.a)("form",{target:"ehqtrlu0",label:"StyledForm"})({name:"hsdyiy",styles:"display:flex;flex-direction:column;align-items:center;input,textarea{font-family:inherit;font-size:0.9em;line-height:inherit;width:100%;background:var(--bg);outline:none;border:none;transition:box-shadow 0.3s ease;margin-top:1rem;padding:0.75rem 1rem;&:focus{box-shadow:var(--shadow) 0px 0px 10px 0px;}}"}),u=Object(r.a)("div",{target:"ehqtrlu1",label:"Buttons"})({name:"1xmexg2",styles:"align-self:flex-end;justify-content:space-between;& button{margin:0.5rem;}"}),m=Object(r.a)("p",{target:"ehqtrlu2",label:"ErrorMessage"})({name:"1dp8yg7",styles:"color:var(--error);margin:0;"}),p=Object(r.a)("div",{target:"ehqtrlu3",label:"FormInfo"})({name:"padqdi",styles:"text-align:center !important;"});function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,o=(e=j(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==f(o)&&"function"!=typeof o?y(r):o,v(y(n),"state",{comment:"",author:"",email:"",formIsSubmitting:!1,formSubmittedSuccessfully:!1,formSubmittedFailed:!1,formErrors:{email:"",comment:""},commentValid:!1,emailValid:!1,formValid:!1}),v(y(n),"onChange",(function(e){var t,r,o;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:t=e.target,r=t.name,o=t.value,n.setState(v({},r,o),(function(){n.validateField(r,o)}));case 3:case"end":return a.stop()}}))})),v(y(n),"validateField",(function(e,t){var r=n.state,o=r.formErrors,a=r.emailValid,i=r.commentValid;switch(e){case"email":a=t.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),o.email=a?"":"Czy wpisałeś email w prawidłowym formacie?";break;case"comment":i=t.length<65525,o.comment=i?"":"Komentarz jest za długi."}n.setState({formErrors:o,emailValid:a,commentValid:i},n.validateForm)})),v(y(n),"validateForm",(function(){n.setState({formValid:n.state.emailValid&&n.state.commentValid})})),v(y(n),"onSubmit",(function(e){var t,r,o,a,i,l,s,c,u,m;return regeneratorRuntime.async((function(p){for(;;)switch(p.prev=p.next){case 0:return t=n.props,r=t.libraries,o=t.postId,a=t.replyTo,i=t.setReplyTo,l=n.state,s=l.comment,c=l.author,u=l.email,e.preventDefault(),n.setState({formIsSubmitting:!0}),m=JSON.stringify({post:o,author_name:c,author_email:u,content:s,parent:a}),p.prev=5,p.next=8,regeneratorRuntime.awrap(fetch("".concat(r.source.api.api,"/wp/v2/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:m}));case 8:!0===p.sent.ok?(n.setState({formIsSubmitting:!1,formSubmittedSuccessfully:!0,comment:"",author:"",email:""}),i(0)):n.setState({formIsSubmitting:!1,formSubmittedFailed:!0}),p.next=15;break;case 12:p.prev=12,p.t0=p.catch(5),console.log(p.t0);case 15:case"end":return p.stop()}}),null,null,[[5,12]])})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return Object(l.jsx)(s,b({onChange:this.onChange,onSubmit:this.onSubmit,formErrors:this.formErrors,replyTo:this.props.replyTo,formRef:this.props.formRef,setReplyTo:this.props.setReplyTo},this.state))}}])&&d(n.prototype,r),o&&d(n,o),t}(o.Component),g=Object(i.connect)(O),x=n(153),w=n(0),S=n(33),k=n(400);var T=function(e){var t=e.id,n=e.post,r=e.avatar,o=e.author,i=e.date,s=e.content,c=e.nestLvl,u=e.replyTo,m=e.setReplyTo,p=e.formRef,f=5===c?c:c+1;return Object(l.jsx)(a.a.Fragment,null,Object(l.jsx)(_,{commentNestLvl:f},Object(l.jsx)("div",null,Object(l.jsx)(I,{alt:"avatar",src:r[96]})),Object(l.jsx)("div",null,Object(l.jsx)(R,null,o),Object(l.jsx)(z,null,Object(l.jsx)(w.b.Provider,{value:{className:"react-icons"}},Object(l.jsx)(S.a,null),Object(l.jsx)("h5",null,Object(k.a)(i)))),Object(l.jsx)(C,{dangerouslySetInnerHTML:{__html:s}}),Object(l.jsx)("button",{onClick:function(){return m(t)}},"Odpowiedz"))),u===t?Object(l.jsx)(g,{formRef:p,postId:n,replyTo:u,setReplyTo:m}):null,Object(l.jsx)(E,{parentId:t,postId:n,nestLvl:f,replyTo:u,setReplyTo:m}))},_=Object(r.a)("div",{target:"e1kd5tvv0",label:"Container"})("display:flex;margin:1rem 0 1rem ",(function(e){var t=e.commentNestLvl;return 1===t?0:1.625*t}),"rem;"),R=Object(r.a)("h4",{target:"e1kd5tvv1",label:"Author"})({name:"1uk1gs8",styles:"margin:0;"}),z=Object(r.a)("div",{target:"e1kd5tvv2",label:"PostInfo"})({name:"bvask8",styles:"display:flex;align-items:center;& h5{margin:0 0 0 0.5rem;font-size:75%;}.react-icons{color:var(--light-text);height:0.75em;width:0.75em;}"}),C=Object(r.a)("div",{target:"e1kd5tvv3",label:"Content"})({name:"d26kdp",styles:"font-size:0.9em;p{margin:7px 0;}"}),I=Object(r.a)("img",{target:"e1kd5tvv4",label:"Avatar"})({name:"1wc70bp",styles:"border-radius:100%;height:calc(2.25 * 1rem);width:calc(2.25 * 1rem);margin:1rem 1rem 0 0;"});function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var E=Object(i.connect)((function(e){var t=e.libraries,n=e.parentId,r=e.postId,i=e.nestLvl,s=e.setReplyTo,c=e.replyTo,u=e.formRef,m=A(Object(o.useState)([]),2),p=m[0],f=m[1],b=A(Object(o.useState)(!0),2),d=b[0],j=b[1];return Object(o.useEffect)((function(){t.source.api.get({endpoint:"comments",params:{post:r,parent:n,per_page:100}}).then((function(e){e.json().then((function(e){f(e),j(!1)}))}))}),[]),Object(l.jsx)(a.a.Fragment,null,d&&Object(l.jsx)(x.a,null),!d&&Object(l.jsx)("div",null,0===p.length&&0===n&&Object(l.jsx)("p",null,"Brak komentarzy"),p.length>0&&Object(l.jsx)(a.a.Fragment,null,p.map((function(e){var t=new Date(e.date);return Object(l.jsx)(T,{key:e.id,id:e.id,avatar:e.author_avatar_urls,author:e.author_name,content:e.content.rendered,post:e.post,date:t,nestLvl:i,replyTo:c,setReplyTo:s,formRef:u})})))))}));function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.default=function(e){var t=e.postId,n=L(Object(o.useState)(0),2),r=n[0],a=n[1],i=Object(o.useRef)(null);return Object(l.jsx)(D,{className:"comment"},Object(l.jsx)("h3",null,"Komentarze"),Object(l.jsx)(E,{parentId:0,postId:t,nestLvl:0,replyTo:r,setReplyTo:a,formRef:i}),r?null:Object(l.jsx)(g,{formRef:i,postId:t,replyTo:r,setReplyTo:a}))};var D=Object(r.a)("div",{target:"e1gtdfpy0",label:"CommentBox"})({name:"10cokgy",styles:"display:block;margin:20px 0;"})}}]);